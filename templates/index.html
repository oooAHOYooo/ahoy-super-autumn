{% extends "base.html" %}

{% block content %}
<div class="hero parallax-container">
    <div class="parallax-content">
        <h1 class="parallax-slow">AHOY</h1>
        <p class="parallax-medium">Building a platform for local New Haven
            artists, musicians, and
            performers to share their craft across our little city.</p>
        <div class="hero-actions parallax-fast">
            <a href="/events" class="btn btn-primary">Upcoming Shows</a>
            <a href="/download" class="btn btn-secondary">Launch Platform</a>
        </div>
    </div>
</div>

{% if latest_events %}
<section class="latest-events">
    <div class="container">
        <h2>Upcoming Events</h2>
        <div class="events-preview">
            {% for event in latest_events %}
            <div class="event-preview" data-event-id="{{ event.id }}">
                {% if event.image %}
                <img src="{{ event.image }}" alt="{{ event.title }}"
                    class="event-image" data-lightbox="{{ event.image }}">
                {% endif %}
                <div class="event-date">{{ event.date }}</div>
                <div class="event-details">
                    <h3>{{ event.title }}</h3>
                    {% if event.venue %}<p class="venue">{{ event.venue }}</p>{%
                    endif %}
                    {% if event.time %}<p class="time">{{ event.time }}</p>{%
                    endif %}
                    {% if event.description %}<p class="description">{{
                        event.description }}</p>{% endif %}
                    {% if event.rsvp_enabled %}
                    <div class="rsvp-section">
                        {% if event.rsvps and event.rsvps|length > 0 %}
                        <div class="rsvp-count">
                            {{ event.rsvps|length }} RSVP{% if
                            event.rsvps|length != 1 %}s{% endif %}
                        </div>
                        {% endif %}
                        <button class="btn btn-small rsvp-btn"
                            data-event-id="{{ event.id }}">
                            RSVP
                        </button>
                    </div>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        </div>
        <div class="events-actions">
            <a href="/events" class="btn btn-outline">View All Events</a>
        </div>
    </div>
</section>
{% endif %}

<section class="features">
    <div class="container">
        <h2 class="parallax-slow">What We Do</h2>
        <div class="feature-grid">
            <div class="feature parallax-medium floating-element">
                <h3>Cabaret Shows</h3>
                <p>Intimate performances featuring local talent in unique New
                    Haven venues</p>
            </div>
            <div class="feature parallax-slow floating-element">
                <h3>Poets and Friends</h3>
                <p>Regular poetry gatherings and spoken word events at
                    Koffee?</p>
            </div>
            <div class="feature parallax-fast floating-element">
                <h3>Indie Media Platform</h3>
                <p>Supporting independent filmmakers, musicians, and creators
                    with ad-free content</p>
            </div>
        </div>
    </div>
</section>
{% endblock %}
